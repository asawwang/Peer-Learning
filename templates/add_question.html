{% extends "base.html" %} {% import 'macros.html' as macros %}
{% block content %}

<style>
  #AddQuestionForm{
  	display: none;
      width: 300px;
      border: 1px solid #ccc;
      padding: 14px;
      background: #ececec;
  }

  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
</style>

<script>
$(document).ready(function(){
	$('#AddQuestionButton').click(function(){
  		$('#AddQuestionForm').toggle(500);
  });
});
</script>

<form action="/logout" method="post">
    <button type="submit" style="float: right;">Log Out</button>
</form>
<div class="col-md-4 col-md-offset-4">

      <div align="center">
        <h2>Instructor Dashboard for {{current_user.name}}</h2>
        <hr>
        <h2>CRN: {{CRN}}</h2>
      </div>

<br>
<div>
  <h4>Questions</h4>
      <table>
      <tbody>
      <tr>
          <td>id</td>
          <td>Date</td>
          <td>Content</td>
      </tr>
        {% for q in query_results %}
          <tr>
            <td>{{ q[0] }}</td>
            <td>{{ q[1] }}</td>
            <td>{{ q[2] }}</td>
          </tr>
        {% endfor %}
      </tbody>
      </table>
  <br>
<button id="AddQuestionButton" class="btn btn-primary">Add Question</button>
  <form id="AddQuestionForm" action="/dashboard/instructor/course/question/{{CRN}}" method="post">
      {{ add_question_form.hidden_tag() }}
      {{ macros.render_field(add_question_form.question_date, placeholder='MM/DD/YYYY', label_visible=true) }}
      {{ macros.render_field(add_question_form.question, placeholder='', label_visible=true) }}
      <button type="submit" class="btn btn-default">Submit</button>
  </form>

</div>

{% endblock %}
