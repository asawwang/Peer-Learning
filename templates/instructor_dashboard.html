{% extends "base.html" %} {% import 'macros.html' as macros %}
{% set nav_tabs = [("Home", "/dashboard/instructor/courses"), ("Profile", "/dashboard/instructor/profile"), ("Sign Out", "/logout")] %}
{% set active_tab = "Home" %}
{% block content %}

<style>
#AddCourseForm{
	display: none;
    width: 300px;
    border: 1px solid #ccc;
    padding: 14px;
    background: #ececec;
}

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}


</style>

<script>
$(document).ready(function(){
	$('#AddCourseBtn').click(function(){
  		$('#AddCourseForm').toggle(500);
  });
});
</script>

<div class="container-fluid">

  <h1 class="cover-heading">Welcome back, {{current_user.name}}!</h1>

<br>
<br>

<h3>Current courses:</h3>
<br>
<table class="table table-hover table-dark">
  <thead>
    <tr>
      <th scope="col">CRN</th>
      <th scope="col">Title</th>
      <th scope="col">Year</th>
      <th scope="col">Term</th>
    </tr>
  </thead>
  <tbody>
    {% for c in courses %}
        <tr>
          <td>{{ c.CRN }}</td>
            <td><a href="/dashboard/instructor/course/{{c.CRN}}">{{ c.title }}</a></td>
          <td>{{ c.year }}</td>
          <td>{{ c.term }}</td>
        </tr>
      {% endfor %}
  </tbody>
</table>


<br>
<button id="AddCourseBtn" class="btn btn-info">Add Course</button>
<form id="AddCourseForm" action="/dashboard/instructor/courses" method="post">
    {{ add_course_form.hidden_tag() }}
    {{ macros.render_field(add_course_form.CRN, placeholder='24521', label_visible=true) }}
    {{ macros.render_field(add_course_form.title, placeholder='CS 411', label_visible=true) }}
    {{ macros.render_field(add_course_form.year, placeholder='2019', label_visible=true) }}
    {{ macros.render_field(add_course_form.term, placeholder='spring', label_visible=true) }}
    <button type="submit" class="btn btn-default">Submit</button>
</form>
</div>
{% endblock %}
